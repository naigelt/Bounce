\doxysection{sf\+::Tcp\+Listener Class Reference}
\hypertarget{classsf_1_1_tcp_listener}{}\label{classsf_1_1_tcp_listener}\index{sf::TcpListener@{sf::TcpListener}}


\doxylink{classsf_1_1_socket}{Socket} that listens to new TCP connections.  




{\ttfamily \#include $<$Tcp\+Listener.\+hpp$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classsf_1_1_tcp_listener_a59a1db5b6f4711a3e57390da2f8d9630}\label{classsf_1_1_tcp_listener_a59a1db5b6f4711a3e57390da2f8d9630} 
{\bfseries Tcp\+Listener} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
unsigned short \mbox{\hyperlink{classsf_1_1_tcp_listener_a784b9a9c59d4cdbae1795e90b8015780}{get\+Local\+Port}} () const
\begin{DoxyCompactList}\small\item\em Get the port to which the socket is bound locally. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsf_1_1_socket_a51bf0fd51057b98a10fbb866246176dc}{Status}} \mbox{\hyperlink{classsf_1_1_tcp_listener_a9504758ea3570e62cb20b209c11776a1}{listen}} (unsigned short port, const \mbox{\hyperlink{classsf_1_1_ip_address}{Ip\+Address}} \&address=\mbox{\hyperlink{classsf_1_1_ip_address_a3dbc10b0dc6804cc69e29342f7406907}{Ip\+Address\+::\+Any}})
\begin{DoxyCompactList}\small\item\em Start listening for incoming connection attempts. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsf_1_1_tcp_listener_a3a00a850506bd0f9f48867a0fe59556b}{close}} ()
\begin{DoxyCompactList}\small\item\em Stop listening and close the socket. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsf_1_1_socket_a51bf0fd51057b98a10fbb866246176dc}{Status}} \mbox{\hyperlink{classsf_1_1_tcp_listener_ae2c83ce5a64d50b68180c46bef0a7346}{accept}} (\mbox{\hyperlink{classsf_1_1_tcp_socket}{Tcp\+Socket}} \&socket)
\begin{DoxyCompactList}\small\item\em Accept a new connection. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsf_1_1_socket}{sf\+::\+Socket}}}
\begin{DoxyCompactItemize}
\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}\+Socket} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsf_1_1_socket_a165fc1423e281ea2714c70303d3a9782}{set\+Blocking}} (bool blocking)
\begin{DoxyCompactList}\small\item\em Set the blocking state of the socket. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classsf_1_1_socket_ab1ceca9ac114b8baeeda3b34a0aca468}{is\+Blocking}} () const
\begin{DoxyCompactList}\small\item\em Tell whether the socket is in blocking or non-\/blocking mode. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Public Types inherited from \mbox{\hyperlink{classsf_1_1_socket}{sf\+::\+Socket}}}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{classsf_1_1_socket_a51bf0fd51057b98a10fbb866246176dc}{Status}} \{ \newline
\mbox{\hyperlink{classsf_1_1_socket_a51bf0fd51057b98a10fbb866246176dca1de3a85bc56d3ae85b3d0f3cfd04ae90}{Done}}
, \mbox{\hyperlink{classsf_1_1_socket_a51bf0fd51057b98a10fbb866246176dca8554848daae98f996e131bdeed076c09}{Not\+Ready}}
, \mbox{\hyperlink{classsf_1_1_socket_a51bf0fd51057b98a10fbb866246176dca181c163fad2eaea927185d127c392706}{Partial}}
, \mbox{\hyperlink{classsf_1_1_socket_a51bf0fd51057b98a10fbb866246176dcab215141f756acdc23c67fad149710eb1}{Disconnected}}
, \newline
\mbox{\hyperlink{classsf_1_1_socket_a51bf0fd51057b98a10fbb866246176dca1dc9854433a28c22e192721179a2df5d}{Error}}
 \}
\begin{DoxyCompactList}\small\item\em Status codes that may be returned by socket functions. \end{DoxyCompactList}\item 
enum \{ \mbox{\hyperlink{classsf_1_1_socket_aa3e6c984bcb81a35234dcc9cc8369d75a5a3c30fd128895403afc11076f461b19}{Any\+Port}} = 0
 \}
\begin{DoxyCompactList}\small\item\em Some special values used by sockets. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Types inherited from \mbox{\hyperlink{classsf_1_1_socket}{sf\+::\+Socket}}}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{classsf_1_1_socket_a5d3ff44e56e68f02816bb0fabc34adf8}{Type}} \{ \mbox{\hyperlink{classsf_1_1_socket_a5d3ff44e56e68f02816bb0fabc34adf8acc02e97e90234b957eaad4dff7f22214}{Tcp}}
, \mbox{\hyperlink{classsf_1_1_socket_a5d3ff44e56e68f02816bb0fabc34adf8a6ebf3094830db4820191a327f3cc6ce2}{Udp}}
 \}
\begin{DoxyCompactList}\small\item\em Types of protocols that the socket can use. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classsf_1_1_socket}{sf\+::\+Socket}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsf_1_1_socket_a80ffb47ec0bafc83af019055d3e6a303}{Socket}} (\mbox{\hyperlink{classsf_1_1_socket_a5d3ff44e56e68f02816bb0fabc34adf8}{Type}} type)
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
Socket\+Handle \mbox{\hyperlink{classsf_1_1_socket_a675457784284ae2f5640bbbe16729393}{get\+Handle}} () const
\begin{DoxyCompactList}\small\item\em Return the internal handle of the socket. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsf_1_1_socket_aafbe140f4b1921e0d19e88cf7a61dcbc}{create}} ()
\begin{DoxyCompactList}\small\item\em Create the internal representation of the socket. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsf_1_1_socket_af1dd898f7aa3ead7ff7b2d1c20e97781}{create}} (Socket\+Handle handle)
\begin{DoxyCompactList}\small\item\em Create the internal representation of the socket from a socket handle. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsf_1_1_socket_a71f2f5c2aa99e01cafe824fee4c573be}{close}} ()
\begin{DoxyCompactList}\small\item\em Close the socket gracefully. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{classsf_1_1_socket}{Socket} that listens to new TCP connections. 

A listener socket is a special type of socket that listens to a given port and waits for connections on that port. This is all it can do.

When a new connection is received, you must call accept and the listener returns a new instance of \doxylink{classsf_1_1_tcp_socket}{sf\+::\+Tcp\+Socket} that is properly initialized and can be used to communicate with the new client.

\doxylink{classsf_1_1_listener}{Listener} sockets are specific to the TCP protocol, UDP sockets are connectionless and can therefore communicate directly. As a consequence, a listener socket will always return the new connections as \doxylink{classsf_1_1_tcp_socket}{sf\+::\+Tcp\+Socket} instances.

A listener is automatically closed on destruction, like all other types of socket. However if you want to stop listening before the socket is destroyed, you can call its \doxylink{classsf_1_1_tcp_listener_a3a00a850506bd0f9f48867a0fe59556b}{close()} function.

Usage example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{//\ Create\ a\ listener\ socket\ and\ make\ it\ wait\ for\ new}}
\DoxyCodeLine{\textcolor{comment}{//\ connections\ on\ port\ 55001}}
\DoxyCodeLine{\mbox{\hyperlink{classsf_1_1_tcp_listener}{sf::TcpListener}}\ listener;}
\DoxyCodeLine{listener.\mbox{\hyperlink{classsf_1_1_tcp_listener_a9504758ea3570e62cb20b209c11776a1}{listen}}(55001);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Endless\ loop\ that\ waits\ for\ new\ connections}}
\DoxyCodeLine{\textcolor{keywordflow}{while}\ (running)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{classsf_1_1_tcp_socket}{sf::TcpSocket}}\ client;}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (listener.\mbox{\hyperlink{classsf_1_1_tcp_listener_ae2c83ce5a64d50b68180c46bef0a7346}{accept}}(client)\ ==\ \mbox{\hyperlink{classsf_1_1_socket_a51bf0fd51057b98a10fbb866246176dca1de3a85bc56d3ae85b3d0f3cfd04ae90}{sf::Socket::Done}})}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ A\ new\ client\ just\ connected!}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}New\ connection\ received\ from\ "{}}\ <<\ client.\mbox{\hyperlink{classsf_1_1_tcp_socket_aa8579c203b1fd21beb74d7f76444a94c}{getRemoteAddress}}()\ <<\ std::endl;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ doSomethingWith(client);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\doxylink{classsf_1_1_tcp_socket}{sf\+::\+Tcp\+Socket}, \doxylink{classsf_1_1_socket}{sf\+::\+Socket} 
\end{DoxySeeAlso}


\doxysubsection{Member Function Documentation}
\Hypertarget{classsf_1_1_tcp_listener_ae2c83ce5a64d50b68180c46bef0a7346}\index{sf::TcpListener@{sf::TcpListener}!accept@{accept}}
\index{accept@{accept}!sf::TcpListener@{sf::TcpListener}}
\doxysubsubsection{\texorpdfstring{accept()}{accept()}}
{\footnotesize\ttfamily \label{classsf_1_1_tcp_listener_ae2c83ce5a64d50b68180c46bef0a7346} 
\mbox{\hyperlink{classsf_1_1_socket_a51bf0fd51057b98a10fbb866246176dc}{Status}} sf\+::\+Tcp\+Listener\+::accept (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsf_1_1_tcp_socket}{Tcp\+Socket}} \&}]{socket}{}\end{DoxyParamCaption})}



Accept a new connection. 

If the socket is in blocking mode, this function will not return until a connection is actually received.


\begin{DoxyParams}{Parameters}
{\em socket} & \doxylink{classsf_1_1_socket}{Socket} that will hold the new connection\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\doxylink{classsf_1_1_tcp_listener_a9504758ea3570e62cb20b209c11776a1}{listen} 
\end{DoxySeeAlso}
\Hypertarget{classsf_1_1_tcp_listener_a3a00a850506bd0f9f48867a0fe59556b}\index{sf::TcpListener@{sf::TcpListener}!close@{close}}
\index{close@{close}!sf::TcpListener@{sf::TcpListener}}
\doxysubsubsection{\texorpdfstring{close()}{close()}}
{\footnotesize\ttfamily \label{classsf_1_1_tcp_listener_a3a00a850506bd0f9f48867a0fe59556b} 
void sf\+::\+Tcp\+Listener\+::close (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Stop listening and close the socket. 

This function gracefully stops the listener. If the socket is not listening, this function has no effect.

\begin{DoxySeeAlso}{See also}
\doxylink{classsf_1_1_tcp_listener_a9504758ea3570e62cb20b209c11776a1}{listen} 
\end{DoxySeeAlso}
\Hypertarget{classsf_1_1_tcp_listener_a784b9a9c59d4cdbae1795e90b8015780}\index{sf::TcpListener@{sf::TcpListener}!getLocalPort@{getLocalPort}}
\index{getLocalPort@{getLocalPort}!sf::TcpListener@{sf::TcpListener}}
\doxysubsubsection{\texorpdfstring{getLocalPort()}{getLocalPort()}}
{\footnotesize\ttfamily \label{classsf_1_1_tcp_listener_a784b9a9c59d4cdbae1795e90b8015780} 
unsigned short sf\+::\+Tcp\+Listener\+::get\+Local\+Port (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}



Get the port to which the socket is bound locally. 

If the socket is not listening to a port, this function returns 0.

\begin{DoxyReturn}{Returns}
Port to which the socket is bound
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\doxylink{classsf_1_1_tcp_listener_a9504758ea3570e62cb20b209c11776a1}{listen} 
\end{DoxySeeAlso}
\Hypertarget{classsf_1_1_tcp_listener_a9504758ea3570e62cb20b209c11776a1}\index{sf::TcpListener@{sf::TcpListener}!listen@{listen}}
\index{listen@{listen}!sf::TcpListener@{sf::TcpListener}}
\doxysubsubsection{\texorpdfstring{listen()}{listen()}}
{\footnotesize\ttfamily \label{classsf_1_1_tcp_listener_a9504758ea3570e62cb20b209c11776a1} 
\mbox{\hyperlink{classsf_1_1_socket_a51bf0fd51057b98a10fbb866246176dc}{Status}} sf\+::\+Tcp\+Listener\+::listen (\begin{DoxyParamCaption}\item[{unsigned short}]{port}{, }\item[{const \mbox{\hyperlink{classsf_1_1_ip_address}{Ip\+Address}} \&}]{address}{ = {\ttfamily \mbox{\hyperlink{classsf_1_1_ip_address_a3dbc10b0dc6804cc69e29342f7406907}{Ip\+Address\+::\+Any}}}}\end{DoxyParamCaption})}



Start listening for incoming connection attempts. 

This function makes the socket start listening on the specified port, waiting for incoming connection attempts.

If the socket is already listening on a port when this function is called, it will stop listening on the old port before starting to listen on the new port.

When providing \doxylink{classsf_1_1_socket_aa3e6c984bcb81a35234dcc9cc8369d75a5a3c30fd128895403afc11076f461b19}{sf\+::\+Socket\+::\+Any\+Port} as port, the listener will request an available port from the system. The chosen port can be retrieved by calling \doxylink{classsf_1_1_tcp_listener_a784b9a9c59d4cdbae1795e90b8015780}{get\+Local\+Port()}.


\begin{DoxyParams}{Parameters}
{\em port} & Port to listen on for incoming connection attempts \\
\hline
{\em address} & Address of the interface to listen on\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\doxylink{classsf_1_1_tcp_listener_ae2c83ce5a64d50b68180c46bef0a7346}{accept}, \doxylink{classsf_1_1_tcp_listener_a3a00a850506bd0f9f48867a0fe59556b}{close} 
\end{DoxySeeAlso}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/\+SFML/\+Network/Tcp\+Listener.\+hpp\end{DoxyCompactItemize}
